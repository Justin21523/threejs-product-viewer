<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="3D Product Viewer Pro - Interactive 3D product showcase with advanced materials and lighting"
    />
    <title>3D Product Viewer Pro - Enhanced Materials & Lighting</title>
    <link rel="stylesheet" href="src/styles/main.css" />
  </head>
  <body>
    <!-- Main 3D Viewer Container -->
    <div id="viewer-container" class="viewer-container">
      <!-- 3D Canvas will be injected here -->
      <canvas id="viewer-canvas" class="viewer-canvas"></canvas>

      <!-- Enhanced Loading Overlay -->
      <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading 3D Model...</div>
        <div class="loading-progress">
          <div id="loading-bar" class="loading-bar"></div>
        </div>
        <div class="loading-stage">Initializing...</div>
      </div>

      <!-- Error Display -->
      <div id="error-overlay" class="error-overlay hidden">
        <div class="error-content">
          <h3>Loading Error</h3>
          <p id="error-message">Failed to load 3D model</p>
          <button id="retry-button" class="retry-button">Retry</button>
          <button id="close-error" class="close-button">Close</button>
        </div>
      </div>

      <!-- Enhanced Control Panel -->
      <div id="control-panel" class="control-panel">
        <!-- Model Controls Section -->
        <div class="control-section">
          <h4>üéÆ Model Controls</h4>
          <div class="button-group">
            <button id="auto-rotate-toggle" class="control-button">
              Auto Rotate
            </button>
            <button id="reset-camera" class="control-button">Reset View</button>
            <button id="show-file-drop" class="control-button">
              üìÅ Upload Model
            </button>
          </div>
        </div>

        <!-- Materials Section -->
        <div class="control-section">
          <h4>üé® Materials</h4>
          <select id="material-preset" class="preset-selector">
            <option value="default">Default</option>
            <option value="metallic">Metallic</option>
            <option value="matte">Matte</option>
            <option value="glossy">Glossy</option>
            <option value="glass">Glass</option>
            <option value="plastic">Plastic</option>
            <option value="ceramic">Ceramic</option>
            <option value="carbon_fiber">Carbon Fiber</option>
          </select>
          <div class="preset-description" id="material-description">
            Standard material with balanced properties
          </div>
        </div>

        <!-- Lighting Section -->
        <div class="control-section">
          <h4>üí° Lighting</h4>
          <select id="lighting-preset" class="preset-selector">
            <option value="studio">Studio</option>
            <option value="outdoor">Outdoor</option>
            <option value="dramatic">Dramatic</option>
            <option value="soft">Soft</option>
            <option value="night">Night</option>
          </select>
          <div class="preset-description" id="lighting-description">
            Professional studio setup with key, fill, and rim lights
          </div>

          <div class="slider-container">
            <label for="light-intensity">Intensity</label>
            <input
              type="range"
              id="light-intensity"
              class="slider"
              min="0"
              max="2"
              step="0.1"
              value="1"
            />
            <span class="slider-value" id="intensity-value">1.0</span>
          </div>
        </div>

        <!-- Rendering Section -->
        <div class="control-section">
          <h4>‚ö° Rendering</h4>
          <div class="button-group">
            <button id="toggle-shadows" class="control-button active">
              üåü Shadows On
            </button>
            <button id="capture-screenshot" class="control-button">
              üì∏ Screenshot
            </button>
          </div>

          <div class="render-quality">
            <label for="render-quality">Quality</label>
            <select id="render-quality" class="preset-selector">
              <option value="high">High Quality</option>
              <option value="medium">Medium Quality</option>
              <option value="low">Performance Mode</option>
            </select>
          </div>
        </div>

        <!-- Advanced Section (Collapsible) -->
        <div class="control-section">
          <h4 class="collapsible" id="advanced-toggle">üîß Advanced Settings</h4>
          <div class="collapsible-content" id="advanced-content">
            <div class="advanced-controls">
              <div class="checkbox-group">
                <label>
                  <input type="checkbox" id="enable-wireframe" /> Wireframe Mode
                </label>
                <label>
                  <input type="checkbox" id="enable-helpers" /> Show Helpers
                </label>
                <label>
                  <input type="checkbox" id="enable-stats" checked />
                  Performance Stats
                </label>
              </div>

              <div class="slider-container">
                <label for="camera-fov">Camera FOV</label>
                <input
                  type="range"
                  id="camera-fov"
                  class="slider"
                  min="20"
                  max="120"
                  step="5"
                  value="45"
                />
                <span class="slider-value" id="fov-value">45¬∞</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Enhanced Performance Stats -->
      <div id="performance-stats" class="performance-stats">
        <div class="stats-header">Performance Monitor</div>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-label">FPS:</span>
            <span class="stat-value" id="fps-counter">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Memory:</span>
            <span class="stat-value" id="memory-usage">--</span>MB
          </div>
          <div class="stat-item">
            <span class="stat-label">Triangles:</span>
            <span class="stat-value" id="triangle-count">--</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Draw Calls:</span>
            <span class="stat-value" id="draw-calls">--</span>
          </div>
        </div>
      </div>

      <!-- Model Information Panel -->
      <div id="model-info" class="model-info hidden">
        <div class="info-header">
          <h4>üìä Model Information</h4>
          <button class="close-btn" id="close-model-info">√ó</button>
        </div>
        <div class="info-content">
          <div class="info-item">
            <span class="info-label">File Name:</span>
            <span class="info-value" id="model-filename">--</span>
          </div>
          <div class="info-item">
            <span class="info-label">File Size:</span>
            <span class="info-value" id="model-filesize">--</span>
          </div>
          <div class="info-item">
            <span class="info-label">Meshes:</span>
            <span class="info-value" id="model-meshes">--</span>
          </div>
          <div class="info-item">
            <span class="info-label">Materials:</span>
            <span class="info-value" id="model-materials">--</span>
          </div>
          <div class="info-item">
            <span class="info-label">Vertices:</span>
            <span class="info-value" id="model-vertices">--</span>
          </div>
        </div>
      </div>

      <!-- Quick Actions Floating Menu -->
      <div id="quick-actions" class="quick-actions">
        <button class="quick-action-btn" id="quick-reset" title="Reset View">
          üîÑ
        </button>
        <button
          class="quick-action-btn"
          id="quick-rotate"
          title="Toggle Auto Rotate"
        >
          üîÑ
        </button>
        <button class="quick-action-btn" id="quick-info" title="Model Info">
          ‚ÑπÔ∏è
        </button>
        <button
          class="quick-action-btn"
          id="quick-fullscreen"
          title="Fullscreen"
        >
          üî≥
        </button>
      </div>

      <!-- Toast Notifications -->
      <div id="toast-container" class="toast-container"></div>
    </div>

    <!-- Version Info -->
    <div class="version-info">
      3D Product Viewer Pro v1.3.0 - Enhanced Materials & Lighting
    </div>

    <!-- Keyboard Shortcuts Help -->
    <div id="shortcuts-help" class="shortcuts-help hidden">
      <div class="shortcuts-content">
        <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
        <div class="shortcuts-list">
          <div class="shortcut-item">
            <kbd>R</kbd> <span>Reset Camera</span>
          </div>
          <div class="shortcut-item">
            <kbd>Space</kbd> <span>Toggle Auto Rotate</span>
          </div>
          <div class="shortcut-item">
            <kbd>S</kbd> <span>Take Screenshot</span>
          </div>
          <div class="shortcut-item"><kbd>F</kbd> <span>Fullscreen</span></div>
          <div class="shortcut-item">
            <kbd>H</kbd> <span>Toggle Helpers</span>
          </div>
          <div class="shortcut-item">
            <kbd>1-5</kbd> <span>Material Presets</span>
          </div>
          <div class="shortcut-item">
            <kbd>Shift + 1-5</kbd> <span>Lighting Presets</span>
          </div>
          <div class="shortcut-item">
            <kbd>?</kbd> <span>Show/Hide This Help</span>
          </div>
        </div>
        <button class="close-shortcuts">Close</button>
      </div>
    </div>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
